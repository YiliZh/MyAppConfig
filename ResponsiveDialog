import * as React from 'react';
import { Dialog, DialogType, DialogFooter, PrimaryButton, DefaultButton, IDialogContentStyles, IModalStyles } from '@fluentui/react';

const DIALOG_DESIGN_WIDTH = 1690; // your fixed content width

// Use Partial<IModalStyles> to override only what we need
const modalStyles: Partial<IModalStyles> = {
  main: {
    // Remove the default 576px maxWidth
    maxWidth: `min(90vw, ${DIALOG_DESIGN_WIDTH}px)`,
    width: `min(90vw, ${DIALOG_DESIGN_WIDTH}px)`,
  },
};

const dialogContentStyles: Partial<IDialogContentStyles> = {
  content: {
    maxHeight: '90vh',       // No taller than 90% viewport height
    overflowY: 'auto',       // vertical scroll if needed
    overflowX: 'auto',       // horizontal scroll if needed
    padding: 0,
  },
};

export const ResponsiveDialog: React.FC = () => {
  const [open, setOpen] = React.useState(false);

  return (
    <>
      <PrimaryButton text="Open dialog" onClick={() => setOpen(true)} />
      <Dialog
        hidden={!open}
        onDismiss={() => setOpen(false)}
        dialogContentProps={{
          type: DialogType.largeHeader,
          title: 'Responsive Wide Dialog',
          styles: dialogContentStyles,
        }}
        modalProps={{
          isBlocking: true,
          styles: modalStyles, // overrides default 576px clamp
        }}
      >
        {/* Keep content's natural width to show horizontal scroll on small screens */}
        <div style={{ width: DIALOG_DESIGN_WIDTH }}>
          {/* Your 1690px-wide content */}
        </div>
        <DialogFooter>
          <DefaultButton onClick={() => setOpen(false)} text="Close" />
          <PrimaryButton onClick={() => alert('Save')} text="Save" />
        </DialogFooter>
      </Dialog>
    </>
  );
};
